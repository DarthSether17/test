namespace SpriteKind {
    export const builder = SpriteKind.create()
    export const image = SpriteKind.create()
    export const blobshot = SpriteKind.create()
    export const Blob = SpriteKind.create()
    export const gun = SpriteKind.create()
}
function Occupation3 (Occupation3Length: Sprite) {
    if (Occupation3Length.isHittingTile(CollisionDirection.Right)) {
        currentLocation = tiles.getTileLocation(currentLocation.column - 1, currentLocation.row)
        tiles.placeOnTile(touching, currentLocation.getNeighboringLocation(CollisionDirection.Left))
        tiles.setTileAt(currentLocation, assets.tile`transparency16`)
        tiles.setWallAt(currentLocation, false)
    } else {
        tiles.setTileAt(currentLocation, assets.tile`myTile`)
        tiles.setWallAt(currentLocation, true)
        tiles.placeOnTile(touching, currentLocation.getNeighboringLocation(CollisionDirection.Right))
        currentLocation = tiles.getTileLocation(currentLocation.column + 1, currentLocation.row)
    }
    pause(40)
}
mp.onButtonEvent(mp.MultiplayerButton.A, ControllerButtonEvent.Pressed, function (player2) {
    Render.jump(playerOne, 60)
})
function Occupation1 (Ocupation1Length: Sprite) {
    if (Ocupation1Length.isHittingTile(CollisionDirection.Left)) {
        currentLocation = tiles.getTileLocation(currentLocation.column + 1, currentLocation.row)
        tiles.placeOnTile(touching, currentLocation.getNeighboringLocation(CollisionDirection.Right))
        tiles.setTileAt(currentLocation, assets.tile`transparency16`)
        tiles.setWallAt(currentLocation, false)
    } else {
        tiles.setTileAt(currentLocation, assets.tile`myTile`)
        tiles.setWallAt(currentLocation, true)
        tiles.placeOnTile(touching, currentLocation.getNeighboringLocation(CollisionDirection.Left))
        currentLocation = tiles.getTileLocation(currentLocation.column - 1, currentLocation.row)
    }
    pause(40)
}
function MakeMap (Mazy: number, Direction: number, length: number, extraNum: number, overlap: boolean) {
    maziness = Mazy
    length2 = length
    for (let index = 0; index < Mazy; index++) {
        if (maziness <= 3) {
            length3 = length2 + 4
        } else if (maziness <= 6) {
            for (let index = 0; index < 2; index++) {
                length3 = length2 + 4
            }
        } else if (maziness > 6) {
            for (let index = 0; index < 3; index++) {
                length3 = length2 + 4
            }
        }
        Direction1 = randint(0, 3)
        for (let index = 0; index < length3; index++) {
            tiles.placeOnTile(touching, tiles.getTileLocation(randint(1, 33), randint(1, 33)))
            currentLocation = tiles.getTileLocation(touching.tilemapLocation().column, touching.tilemapLocation().row)
            if (Direction1 == 0) {
                for (let index = 0; index < length3; index++) {
                    Occupation1(touching)
                }
            } else if (Direction1 == 1) {
                for (let index = 0; index < length3; index++) {
                    Occupation2(touching)
                }
            } else if (Direction1 == 2) {
                for (let index = 0; index < length3; index++) {
                    Occupation3(touching)
                }
            } else {
                for (let index = 0; index < length3; index++) {
                    Occupation4(touching)
                }
            }
        }
    }
}
function Occupation2 (Occupation2Length: Sprite) {
    if (Occupation2Length.isHittingTile(CollisionDirection.Top)) {
        currentLocation = tiles.getTileLocation(currentLocation.column, currentLocation.row + 1)
        tiles.placeOnTile(touching, currentLocation.getNeighboringLocation(CollisionDirection.Bottom))
        tiles.setTileAt(currentLocation, assets.tile`transparency16`)
        tiles.setWallAt(currentLocation, false)
    } else {
        tiles.setTileAt(currentLocation, assets.tile`myTile`)
        tiles.setWallAt(currentLocation, true)
        tiles.placeOnTile(touching, currentLocation.getNeighboringLocation(CollisionDirection.Top))
        currentLocation = tiles.getTileLocation(currentLocation.column, currentLocation.row - 1)
    }
    pause(40)
}
function Occupation4 (Occupation4Length: Sprite) {
    if (Occupation4Length.isHittingTile(CollisionDirection.Bottom)) {
        currentLocation = tiles.getTileLocation(currentLocation.column, currentLocation.row - 1)
        tiles.placeOnTile(touching, currentLocation.getNeighboringLocation(CollisionDirection.Top))
        tiles.setTileAt(currentLocation, assets.tile`transparency16`)
        tiles.setWallAt(currentLocation, false)
    } else {
        tiles.setTileAt(currentLocation, assets.tile`myTile`)
        tiles.setWallAt(currentLocation, true)
        tiles.placeOnTile(touching, currentLocation.getNeighboringLocation(CollisionDirection.Bottom))
        currentLocation = tiles.getTileLocation(currentLocation.column, currentLocation.row + 1)
    }
    pause(40)
}
function SpawnPlayer2 (bool: boolean) {
    if (bool) {
        playerTwo = sprites.create(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `, SpriteType.MyselfTwo)
        mp.setPlayerSprite(mp.playerSelector(mp.PlayerNumber.Two), playerTwo)
        PlayerTwoImage = sprites.create(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . 2 2 2 2 2 . . . . . 
            . . . . . . 2 f 2 f 2 . . . . . 
            . . . . . . 2 2 2 2 2 . . . . . 
            . . . . . . . . 2 . . . . . . . 
            . . . . . . . . 2 . . . . . . . 
            . . . 2 2 2 2 2 2 2 2 2 2 2 . . 
            . . . 2 . . . . 2 . . . . 2 . . 
            . . . . . . . 2 2 2 . . . . . . 
            . . . . . . . . 2 . . . . . . . 
            . . . . . . . . 2 . . . . . . . 
            . . . . . . 2 2 2 2 2 . . . . . 
            . . . . . . 2 . . . 2 . . . . . 
            . . . . . . 2 . . . 2 . . . . . 
            `, SpriteKind.image)
        tiles.placeOnRandomTile(mp.getPlayerSprite(mp.playerSelector(mp.PlayerNumber.Two)), assets.tile`transparency16`)
        Render.setViewMode(ViewMode.raycastingView)
        Render.setViewAngleInDegree(90)
        mp.moveWithButtons(mp.playerSelector(mp.PlayerNumber.Two))
        // Set the initial position of the sprite
        PlayerTwoImage.setPosition(playerTwo.x, playerTwo.y)
        PlayerTwoImage.follow(playerTwo, 1000)
    } else {
    	
    }
}
function CreateEnemy () {
    cuteBlob = sprites.create(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . a a a . . . a a a . 
        . . . . . . a . a a . a a . a . 
        . . . . . . a a a a a a a a a . 
        . . . . . . 3 a a 3 a 3 3 . . . 
        . . . . . a a 3 3 3 a a a . . . 
        . . . 3 3 a 3 f 3 3 3 3 a . . . 
        . . 3 3 3 3 3 3 3 3 f 3 3 . . . 
        . . 3 3 3 3 f 3 f 3 3 3 3 . . . 
        . . 3 3 3 3 f f f 3 3 3 3 . . . 
        . . 3 3 3 3 3 3 3 3 3 3 . . . . 
        . . 3 3 3 3 3 3 3 3 3 3 . . . . 
        `, SpriteKind.Blob)
    cuteBlob.follow(mp.getPlayerSprite(mp.playerSelector(mp.PlayerNumber.One)), 40)
    BlobDart = darts.create(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . 1 1 1 1 1 . . . . . . 
        . . . . 1 3 3 3 3 3 1 . . . . . 
        . . . 1 3 3 3 3 3 3 3 1 . . . . 
        . . 1 3 3 1 3 3 3 1 3 3 1 . . . 
        . . 1 3 3 3 3 3 3 3 3 3 1 . . . 
        . . 1 3 3 3 3 3 3 3 3 3 1 . . . 
        . . 1 3 1 f 3 3 3 f 1 3 1 . . . 
        . . 1 3 3 f f 3 f f 3 3 1 . . . 
        . . . 1 3 3 f 1 f 3 3 1 . . . . 
        . . . . 1 3 3 3 3 3 1 . . . . . 
        . . . . . 1 1 1 1 1 . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `, SpriteKind.blobshot, cuteBlob.tilemapLocation().column, cuteBlob.tilemapLocation().row)
    for (let index = 0; index < randint(2, 20); index++) {
        tiles.placeOnRandomTile(cuteBlob, assets.tile`transparency16`)
    }
}
let angle = 0
let Distance = 0
let BlobDart: Dart = null
let cuteBlob: Sprite = null
let PlayerTwoImage: Sprite = null
let playerTwo: Sprite = null
let Direction1 = 0
let length3 = 0
let maziness = 0
let currentLocation: tiles.Location = null
let playerOne: Sprite = null
let touching: Sprite = null
let length2 = 0
scene.setBackgroundImage(img`
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    `)
tiles.setCurrentTilemap(tilemap`level6`)
length2 = 0
touching = sprites.create(img`
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . 3 3 . . . . . . 
    . . . . . . . . 3 . 3 3 . . . . 
    . . . . . . 3 3 . . . . 3 . . . 
    . . . . . . 3 . . . 3 3 . . . . 
    . . . . . . 3 . 3 3 . . . . . . 
    . . . . . 3 . 3 . . . . . . . . 
    . . . . . 3 3 . . . . . . . . . 
    . . . . . 3 . 3 3 . . . . . . . 
    . . . . . 3 . . . 3 3 . . . . . 
    . . . . . 3 . . . . . 3 . . . . 
    . . . . . . 3 . . . . . 3 . . . 
    . . . . . . . 3 . 3 3 3 3 . . . 
    . . . . . . . . 3 3 . . . . . . 
    . . . . . . . . . . . . . . . . 
    `, SpriteKind.builder)
tiles.placeOnTile(touching, tiles.getTileLocation(randint(0, 35), randint(0, 35)))
enum SpriteType {
    MyselfOne,
    MyselfTwo
}
let PlayerOneImage = sprites.create(img`
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . 1 1 1 1 1 . . . . . 
    . . . . . . 1 f 1 f 1 . . . . . 
    . . . . . . 1 1 1 1 1 . . . . . 
    . . . . . . . . 1 . . . . . . . 
    . . . . . . . . 1 . . . . . . . 
    . . . 1 1 1 1 1 1 1 1 1 1 1 . . 
    . . . 1 . . . . 1 . . . . 1 . . 
    . . . . . . . 1 1 1 . . . . . . 
    . . . . . . . . 1 . . . . . . . 
    . . . . . . . . 1 . . . . . . . 
    . . . . . . 1 1 1 1 1 . . . . . 
    . . . . . . 1 . . . 1 . . . . . 
    . . . . . . 1 . . . 1 . . . . . 
    `, SpriteKind.image)
playerOne = sprites.create(img`
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    `, SpriteType.MyselfOne)
let mySprite = sprites.create(img`
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    `, SpriteKind.gun)
mp.setPlayerSprite(mp.playerSelector(mp.PlayerNumber.One), playerOne)
mp.setPlayerIndicatorsVisible(true)
Render.setViewMode(ViewMode.raycastingView)
Render.setViewAngleInDegree(90)
tiles.placeOnRandomTile(playerOne, assets.tile`transparency16`)
mp.moveWithButtons(mp.playerSelector(mp.PlayerNumber.One))
SpawnPlayer2(mp.isConnected(mp.playerSelector(mp.PlayerNumber.Two)))
CreateEnemy()
MakeMap(game.askForNumber("How dense with walls?", 1), randint(0, 3), randint(1, 12), 1, true)
// Set the initial position of the sprite
PlayerOneImage.setPosition(playerOne.x, playerOne.y)
PlayerOneImage.follow(playerOne, 1000)
sprites.destroy(touching)
game.onUpdate(function () {
    for (let value of sprites.allOfKind(SpriteKind.Player)) {
        Distance = Math.sqrt(Math.abs((playerOne.tilemapLocation().column - value.tilemapLocation().column) * (playerOne.tilemapLocation().column - value.tilemapLocation().column) + (playerOne.tilemapLocation().row - value.tilemapLocation().row) * (playerOne.tilemapLocation().row - value.tilemapLocation().row)))
        if (playerOne.tilemapLocation().column < value.tilemapLocation().column) {
            angle = 180
        } else if (value.tilemapLocation().column < playerOne.tilemapLocation().column) {
            angle = 0
        } else if (value.tilemapLocation().row < playerOne.tilemapLocation().row) {
            angle = 90
        } else if (value.tilemapLocation().row > playerOne.tilemapLocation().row) {
            angle = 270
        }
        BlobDart.angle = angle
        BlobDart.pow = 100
        if (Distance <= 80) {
            BlobDart.throwDart()
        }
    }
})
